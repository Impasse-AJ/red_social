{% extends 'base.html.twig' %}

{% block title %}PublicaciÃ³n{% endblock %}

{% block body %}
    <h1>PublicaciÃ³n</h1>

    <p>{{ publicacion.contenido }}</p>
    <small>Publicado el {{ publicacion.fechaCreacion|date('d/m/Y H:i') }}</small>

    <h2>Comentarios</h2>
    {% if comentarios is empty %}
        <p>No hay comentarios aÃºn.</p>
    {% else %}
        <ul>
            {% for comentario in comentarios %}
                <li>
                    <strong>{{ comentario.usuario.nombreUsuario }}</strong>: {{ comentario.contenido }}
                    <small>({{ comentario.fechaCreacion|date('d/m/Y H:i') }})</small>
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <h3>Agregar comentario</h3>
    <form method="POST" action="{{ path('comentar_publicacion', { id: publicacion.id }) }}">
        <textarea name="contenido" required placeholder="Escribe un comentario..."></textarea><br>
        <button type="submit">Comentar</button>
    </form>

    <a href="{{ path('ver_perfil', { id: publicacion.usuario.id }) }}" class="btn btn-primary">ðŸ”™ Volver al perfil</a>
{% endblock %}
